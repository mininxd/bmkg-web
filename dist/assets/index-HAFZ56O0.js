(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();fetch("https://api.mininxd.my.id/bmkg/area/prov").then(a=>a.json()).then(a=>{loading.style.display="none",login.style.display="block",infoData.innerHTML="Data akan tersimpan dalam cache browser, tekan reset data untuk mengubah lokasi";for(var t=0;t<a.length;t++){const n=document.createElement("option");n.value=a[t],n.text=a[t],inputProv.appendChild(n)}}).catch(a=>console.error(a));inputProv.addEventListener("input",async function(){inputKab.disabled=!0,inputKec.disabled=!0;const a=inputProv.value;try{const n=await s(a);inputKab.options.length=0;const o=document.createElement("option");o.value="pilih kabupaten",o.text="Pilih Kabupaten",o.selected=!0,o.disabled=!0,inputKab.appendChild(o);for(var t=0;t<n.length;t++){const e=document.createElement("option");e.value=n[t],e.text=n[t],inputKab.appendChild(e)}inputKab.disabled=!1}catch(n){console.error(`Error fetching kabupaten: ${n.message}`)}});inputKab.addEventListener("input",async function(){inputKec.disabled=!0;const a=inputKab.value,t=inputProv.value;try{const o=await c(t,a);inputKec.options.length=0;const e=document.createElement("option");e.value="pilih kecamatan",e.text="Pilih Kecamatan",e.selected=!0,e.disabled=!0,inputKec.appendChild(e);for(var n=0;n<o.length;n++){const r=document.createElement("option");r.value=o[n],r.text=o[n],inputKec.appendChild(r)}inputKec.disabled=!1}catch(o){console.error(`Error fetching kecamatan: ${o.message}`)}});inputKec.addEventListener("change",function(){submitLokasi.disabled=!1,submitLokasi.innerHTML="simpan dan jalankan"});submitLokasi.addEventListener("click",function(){localStorage.setItem("areaID",`{
    "prov":"${inputProv.value}",
    "kab":"${inputKab.value}",
    "kec":"${inputKec.value}"
  }`),window.location.reload()});async function s(a){try{return await(await fetch(`https://api.mininxd.my.id/bmkg/area/${a}`)).json()}catch(t){throw console.error(`Error fetching kabupaten: ${t.message}`),t}}async function c(a,t){try{return await(await fetch(`https://api.mininxd.my.id/bmkg/area/${a}/${t}`)).json()}catch(n){throw console.error(`Error fetching kecamatan: ${n.message}`),n}}localStorage.getItem("areaID")===null?(output.innerHTML="data not found",firstTime.style.display="grid"):(output.innerHTML=localStorage.getItem("areaID"),firstTime.style.display="none",loading.style.display="none",content.style.display="block");reset.addEventListener("click",function(){localStorage.removeItem("areaID"),window.location.reload()});
